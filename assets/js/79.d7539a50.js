(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{268:function(s,e,t){"use strict";t.r(e);var a=t(3),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"필수-파일과-심볼릭-링크-생성"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#필수-파일과-심볼릭-링크-생성"}},[s._v("#")]),s._v(" 필수 파일과 심볼릭 링크 생성")]),s._v(" "),t("p",[s._v("역시적으로, 리눅스는 마운트된 파일 시스템의 목록을 "),t("code",[s._v("/etc/mtab")]),s._v("에 유지합니다. 현대적인 커널은 이 리스트를 내부적으로 유지하고 이를 "),t("code",[s._v("/proc")]),s._v(" 파일 시스템을 통해 사용자에게 표시합니다. "),t("code",[s._v("/etc/mtab")]),s._v("의 존재를 예상하는 유틸리티를 만족시키려면 아래 심볼릭 링크를 생성하십시오:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -sv /proc/self/mounts /etc/mtab\n")])])]),t("p",[s._v("일부 테스트 수트와 Perl의 구성 파일 중 하나에 필요한 "),t("code",[s._v("/etc/hosts")]),s._v(" 파일을 생성하십시오:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1 localhost '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /etc/hosts\n")])])]),t("p",[t("code",[s._v("root")]),s._v("이 로그인할 수 있고 root 이름이 인식되도록 하려면, "),t("code",[s._v("/etc/passwd")]),s._v("와 "),t("code",[s._v("/etc/group")]),s._v("에 관련된 엔트리가 필요합니다.")]),s._v(" "),t("p",[s._v("아래 명령어로 "),t("code",[s._v("/etc/passwd")]),s._v("를 생성하십시오:")]),s._v(" "),t("pre",[s._v('cat > /etc/passwd << "EOF"\n'),t("code",[s._v("root:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/dev/null:/bin/false\ndaemon:x:6:6:Daemon User:/dev/null:/bin/false\nmessagebus:x:18:18:D-Bus Message Daemon User:/run/dbus:/bin/false\nsystemd-bus-proxy:x:72:72:systemd Bus Proxy:/:/bin/false\nsystemd-journal-gateway:x:73:73:systemd Journal Gateway:/:/bin/false\nsystemd-journal-remote:x:74:74:systemd Journal Remote:/:/bin/false\nsystemd-journal-upload:x:75:75:systemd Journal Upload:/:/bin/false\nsystemd-network:x:76:76:systemd Network Management:/:/bin/false\nsystemd-resolve:x:77:77:systemd Resolver:/:/bin/false\nsystemd-timesync:x:78:78:systemd Time Synchronization:/:/bin/false\nsystemd-coredump:x:79:79:systemd Core Dumper:/:/bin/false\nuuidd:x:80:80:UUID Generation Daemon User:/dev/null:/bin/false\nnobody:x:99:99:Unprivileged User:/dev/null:/bin/false\n")]),s._v("EOF\n")]),s._v(" "),t("p",[t("code",[s._v("root")]),s._v("의 실제 비밀번호는 나중에 설정됩니다.")]),s._v(" "),t("p",[s._v("아래 명령어로 "),t("code",[s._v("/etc/group")]),s._v("을 생성하십시오:")]),s._v(" "),t("pre",[s._v('cat > /etc/group << "EOF"\n'),t("code",[s._v("root:x:0:\nbin:x:1:daemon\nsys:x:2:\nkmem:x:3:\ntape:x:4:\ntty:x:5:\ndaemon:x:6:\nfloppy:x:7:\ndisk:x:8:\nlp:x:9:\ndialout:x:10:\naudio:x:11:\nvideo:x:12:\nutmp:x:13:\nusb:x:14:\ncdrom:x:15:\nadm:x:16:\nmessagebus:x:18:\nsystemd-journal:x:23:\ninput:x:24:\nmail:x:34:\nkvm:x:61:\nsystemd-bus-proxy:x:72:\nsystemd-journal-gateway:x:73:\nsystemd-journal-remote:x:74:\nsystemd-journal-upload:x:75:\nsystemd-network:x:76:\nsystemd-resolve:x:77:\nsystemd-timesync:x:78:\nsystemd-coredump:x:79:\nuuidd:x:80:\nwheel:x:97:\nnogroup:x:99:\nusers:x:999:\n")]),s._v("EOF\n")]),s._v(" "),t("p",[s._v("생성된 그룹은 표준의 일부가 아닙니다. 이 그룹은 부분적으로 9장의 Udev 구성 요구 사항과 다수의 기존 리눅스 배포판 환경에 의해 결정된 그룹입니다. 또한 일부 테스트 수트는 특정 사용자 또는 그룹에 의존합니다. "),t("a",{attrs:{href:"http://refspecs.linuxfoundation.org/lsb.shtml",target:"_blank",rel:"noopener noreferrer"}},[s._v("LSB(Linux Standard Base)"),t("OutboundLink")],1),s._v("는 그룹 ID(GID)가 0인 그룹 "),t("code",[s._v("root")]),s._v(" 외에 GID가 1인 그룹 "),t("code",[s._v("bin")]),s._v("을 사용할 것을 권장합니다. 잘 작성된 프로그램은 GID 번호에 의존하지 않고 그룹 이름을 사용하기 때문에 다른 모든 그룹 이름과 GID는 시스템 관리자가 자유롭게 선택할 수 있습니다.")]),s._v(" "),t("p",[s._v("8장의 일부 테스트는 일반 유저가 필요합니다. 여기서 이 유저를 추가하고 8장의 마지막에서 이 유저를 제거합니다.")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tester:x:$(ls -n '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tty")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(' | cut -d"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" -f3):101::/home/tester:/bin/bash"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/passwd\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tester:x:101:"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/group\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -o tester -d /home/tester\n")])])]),t("p",[t("code",[s._v("I have no name!")]),s._v(" 프롬프트를 제거하려면, 새 셸을 시작하십시오. "),t("code",[s._v("/etc/passwd")]),s._v("와 "),t("code",[s._v("/etc/group")]),s._v("이 생성되었기 때문에, 사용자 이름과 그룹 이름 해결이 작동합니다.")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" /bin/bash --login +h\n")])])]),t("p",[t("code",[s._v("+h")]),s._v(" 옵션을 사용합니다. 이는 "),t("code",[s._v("bash")]),s._v("가 내부적인 경로 처리를 사용하지 않도록 합니다. 이 옵션 없이는, "),t("code",[s._v("bash")]),s._v("는 실행한 바이너리의 경로를 기억합니다. 새로 컴파일된 바이너리가 설치되자마자 사용되도록 하려면, "),t("code",[s._v("+h")]),s._v(" 옵션이 이 장과 다음 장에서 사용됩니다.")]),s._v(" "),t("p",[t("code",[s._v("login")]),s._v(", "),t("code",[s._v("agetty")]),s._v(", "),t("code",[s._v("init")]),s._v(" 등의 프로그램은 누가 언제 시스템에 로그인했는지 등의 정보를 기록하기 위해 몇 가지 로그 파일을 사용합니다. 하지만, 이러한 프로그램은 로그 파일이 존재하지 않으면 로그를 기록하지 않습니다. 로그 파일을 초기화하고 적절한 권한을 설정하십시오:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /var/log/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("btmp,lastlog,faillog,wtmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" -v utmp /var/log/lastlog\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("664")]),s._v("  /var/log/lastlog\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("  /var/log/btmp\n")])])]),t("p",[t("code",[s._v("/var/log/wtmp")]),s._v("는 모든 로그인과 로그아웃을 기록합니다. "),t("code",[s._v("/var/log/lastlog")]),s._v("는 각각의 사용자가 언제 마지막으로 로그인했는지 기록합니다. "),t("code",[s._v("/var/log/faillog")]),s._v("는 실패한 로그인 시도를 기록합니다. "),t("code",[s._v("/var/log/btmp")]),s._v("는 안 좋은 로그인 시도를 기록합니다.")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("참고")]),s._v(" "),t("p",[t("code",[s._v("/run/utmp")]),s._v("는 현재 로그인된 유저를 기록합니다. 이 파일은 부팅 스크립트에서 자동으로 생성됩니다.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);